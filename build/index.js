!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("algorithmia-nodejs",[],e):"object"==typeof exports?exports["algorithmia-nodejs"]=e():t["algorithmia-nodejs"]=e()}(global,(function(){return(()=>{"use strict";var t={638:(t,e,n)=>{n.r(e),n.d(e,{Algorithmia:()=>R,AlgorithmiaClient:()=>P,DataDir:()=>C,DataFile:()=>A,DataList:()=>r.DataList});var r={};n.r(r),n.d(r,{d:()=>C,A:()=>A});const i=require("typed-rest-client/HttpClient");function o(t,e,n,r,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){o(a,r,i,u,c,"next",t)}function c(t){o(a,r,i,u,c,"throw",t)}u(void 0)}))}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.key=void 0,this.userAgent="{User-Agent : algorithmia-nodejs/".concat(process.env.npm_package_version," (NodeJS ").concat(process.version,")}"),this.headers={},this.httpClient=void 0,this.key=e,this.headers.Authorization=this.key,this.httpClient=new i.HttpClient(this.userAgent)}var e,n,r,o,c,s,l;return e=t,(n=[{key:"get",value:(l=a(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.get(e,this.headers).then((function(t){return t.readBody()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"head",value:(s=a(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.head(e,this.headers).then((function(t){return 200===t.message.statusCode}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"post",value:(c=a(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.headers["Content-Type"]=r,t.next=3,this.httpClient.post(e,JSON.stringify(n),this.headers).then((function(t){return t.readBody()}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return c.apply(this,arguments)})},{key:"put",value:(o=a(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.put(e,JSON.stringify(n),this.headers).then((function(t){return t.readBody()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"delete",value:(r=a(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.httpClient.del(e,this.headers).then((function(t){return t.readBody()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}])&&u(e.prototype,n),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"contentTypeHelper",value:function(t){return Buffer.isBuffer(t)?"application/octet-stream":"string"==typeof t?"text/plain":"application/json"}}])&&s(e.prototype,n),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.client=void 0,this.path=void 0,this.client=e,this.path=n}var e,n;return e=t,(n=[{key:"pipe",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"raw",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:300,a=new l;return n=a.contentTypeHelper(t),null==e?this.client.post("".concat(this.path,"/?output=").concat(r,"&stdout=").concat(i,"&timeout=").concat(o),t,n):this.client.post("".concat(this.path,"/").concat(e,"/?output=").concat(r,"&stdout=").concat(i,"&timeout=").concat(o),t,n)}}])&&f(e.prototype,n),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}var x=function(){function t(e,n){m(this,t),this.client=void 0,this.path=void 0,this.client=e,this.path=n.replace(/data\:\/\//,"")}return k(t,[{key:"baseName",value:function(){return this.path.slice(this.path.lastIndexOf("/")+1)}},{key:"parent",value:function(){var t=this.path.lastIndexOf("/");return t>=0?new C(this.client,"data://".concat(this.path.slice(0,t))):null}}]),t}(),A=function(t){y(n,t);var e=v(n);function n(){return m(this,n),e.apply(this,arguments)}return k(n,[{key:"get",value:function(){return this.client.get(this.path)}},{key:"put",value:function(t){return this.client.put(this.path,t)}},{key:"delete",value:function(){return this.client.delete(this.path)}},{key:"exists",value:function(){return this.client.head(this.path)}}]),n}(x),C=function(t){y(n,t);var e=v(n);function n(){return m(this,n),e.apply(this,arguments)}return k(n,[{key:"file",value:function(t){return new A(this.client,"data://".concat(this.path,"/").concat(t))}},{key:"get",value:function(){return this.client.get(this.path)}},{key:"put",value:function(t,e){return this.file(t).put(e)}},{key:"post",value:function(t){var e;return e=(new l).contentTypeHelper(t),this.client.post(this.path,t,e)}},{key:"exists",value:function(){return this.client.head(this.path)}},{key:"delete",value:function(t){return this.client.delete("".concat(this.path,"?force=").concat(t))}}]),n}(x);function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultApiAddress="https://api.algorithmia.com",this.algoPrefix="/v1/algo/",this.dataPrefix="/v1/data/",this.key=void 0,this.apiAddress=void 0,this.httpClient=void 0,this.apiAddress=n||process.env.ALGORITHMIA_API_ADDRESS||this.defaultApiAddress,this.key=e||process.env.ALGORITHMIA_API_KEY||"",e?e.startsWith("Simple ")?this.key=e:this.key="Simple ".concat(e):this.key="",this.httpClient=new c(this.key)}var e,n;return e=t,(n=[{key:"algo",value:function(t){return new h(this.httpClient,this.defaultApiAddress+this.algoPrefix+t)}},{key:"file",value:function(t){return new A(this.httpClient,this.defaultApiAddress+this.dataPrefix+t)}},{key:"dir",value:function(t){return new C(this.httpClient,this.defaultApiAddress+this.dataPrefix+t)}}])&&O(e.prototype,n),t}();function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getClient",value:function(t,e){return new P(t,e)}},{key:"defaultClient",value:function(){return t.getDefaultClient()}},{key:"getDefaultClient",value:function(){return null==t.client&&(t.client=new P),t.client}}],null&&j(e.prototype,null),n&&j(e,n),t}();R.client=void 0,R.getClient(process.env.ALGORITHMIA_DEFAULT_API_KEY).file("data://dherring/DalesFunTime/NahDawg.txt").get().then((function(t){console.log(t)}))}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(638)})()}));
//# sourceMappingURL=index.js.map